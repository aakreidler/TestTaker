<!DOCTYPE html>
<html ng-app="testtaker" ng-controller="dashboardController">

{{>head}}

<body>
  <script>
    var root = new Firebase('http://testtaker.firebaseio.com');
    var app = angular.module('testtaker', []);
    app.controller('dashboardController', function($scope) {
      var user = Firebase.child(type)
      user.child(uid).once('value', function(snap) {
        var data = snap.val()
      })
    });
  </script>
  <div id="page-wrap">
    <!-- Always shows a header, even in smaller screens. -->
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      {{>header}}
      <div class="mdl-layout__drawer">
        <span class="mdl-layout-title">Menu</span>
        <nav class="mdl-navigation">
          <a class="mdl-navigation__link" href="">Link</a>
          <a class="mdl-navigation__link" href="">Link</a>
          <a class="mdl-navigation__link" href="">Link</a>
          <a class="mdl-navigation__link" href="">Link</a>
        </nav>
      </div>
      <main class="mdl-layout__content">

        <div class="page-content">
          {{>say}}
          <h1 class="hct">Welcome, {{userData.name}}!</h1>
          <!-- TODO : modal for addclass -->
          <button id="addClass" class="fab mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored mdl-button--raised">
            <i class="material-icons">add</i>
          </button>
          <div class="mdl-grid">
            {{#userData.classes}}
            <div class="mdl-cell mdl-cell--6-col" ng-repeat="class in userData.classes">
              <div class="classCard">
                <div class="demo-card-wide mdl-card mdl-shadow--2dp">
                  <div class="mdl-card__title" style="background: url('http://www.getmdl.io/assets/demos/welcome_card.jpg');">
                    <h2>{{class.name}}</h2>
                  </div>
                  <div class="mdl-card__supporting-text">
                    Teachers:
                    <span ng-repeat="name in class.teacher">{{name}}</span>
                    <br> Subject: {{class.subject}}
                    <br> Code: {{class.id}}
                  </div>
                  <div class="mdl-card__actions mdl-card--border">
                    <a href="/classes/{{id}}" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">Go to class</a>
                  </div>
                  <div class="mdl-card__menu">
                    <!-- Colored mini FAB button -->
                    <button id="delete-{{id}}" class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--colored mdl-js-ripple-effect">
                      <i class="material-icons">delete</i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <h4 class="hct" ng-hide="userData.classes">It looks like you don't have any classes right now.</h4>
        </div>
      </main>
    </div>
    <script>
      mainType = '{{type}}';
      uid = '{{uid}}';
    </script>
  </div>
  <div class="mdl-dialog mdl-js-dialog" id="addClassDialog">
    <div class="mdl-dialog__title">
      <h1>{{#student}}Add{{/student}}{{#teacher}}Create{{/teacher}} Class</h1>
    </div>
    <div class="mdl-dialog__content">
      <div class="mdl-textfield mdl-js-textfield">
        <input class="mdl-textfield__input" type="text" id="{{#student}}classID{{/student}}{{#teacher}}className{{/teacher}}">
        <label class="mdl-textfield__label" for="{{#student}}classID{{/student}}{{#teacher}}className{{/teacher}}">{{#student}}Class ID{{/student}}{{#teacher}}Class Name{{/teacher}}</label>
      </div>
    </div>
    <div class="mdl-dialog__actions">
      <button class="mdl-button mdl-js-button mdl-button--accent mdl-js-ripple-effect" id="doIt">
        {{#student}}Add Class{{/student}}{{#teacher}}Create Class{{/teacher}}
      </button>
      <button type="button" class="mdl-button" id="cancel">Cancel</button>
    </div>
  </div>
</body>

</html>
